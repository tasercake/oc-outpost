# =============================================================================
# Telegram Configuration
# =============================================================================

# Bot token from @BotFather (REQUIRED)
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Comma-separated list of supergroup chat IDs with forum topics enabled (REQUIRED)
# Use @userinfobot or similar to get the chat ID (negative numbers)
# Example: -1001234567890,-1009876543210
TELEGRAM_CHAT_IDS=-1001234567890

# Comma-separated list of allowed user IDs (optional, empty = all users)
TELEGRAM_ALLOWED_USERS=

# Whether to handle messages in the General topic (default: true)
HANDLE_GENERAL_TOPIC=true

# =============================================================================
# OpenCode Configuration
# =============================================================================

# Path to opencode binary (default: opencode)
OPENCODE_PATH=opencode

# Maximum concurrent OpenCode instances (default: 10)
OPENCODE_MAX_INSTANCES=10

# Idle timeout in milliseconds before stopping instance (default: 86400000 = 24 hours)
OPENCODE_IDLE_TIMEOUT_MS=86400000

# Port range for OpenCode instances (default: 4100-4199)
OPENCODE_PORT_START=4100
OPENCODE_PORT_POOL_SIZE=100

# Health check interval in milliseconds (default: 30000 = 30 seconds)
OPENCODE_HEALTH_CHECK_INTERVAL_MS=30000

# Startup timeout in milliseconds (default: 60000 = 60 seconds)
OPENCODE_STARTUP_TIMEOUT_MS=60000

# Path to OpenCode data directory for session persistence (default: ~/.local/share/opencode)
# Supports tilde expansion (~)
OPENCODE_DATA_PATH=~/.local/share/opencode

# =============================================================================
# Storage Configuration
# =============================================================================

# SQLite database for orchestrator state (default: ./data/orchestrator.db)
ORCHESTRATOR_DB_PATH=./data/orchestrator.db

# SQLite database for forum topic metadata (default: ./data/topics.db)
TOPIC_DB_PATH=./data/topics.db

# SQLite database for application logs (default: ./data/logs.db)
LOG_DB_PATH=./data/logs.db

# =============================================================================
# Project Configuration
# =============================================================================

# Base path for project directories (each topic creates a subdirectory) (REQUIRED)
# Supports tilde expansion (~)
# Example: ~/oc-bot or /var/lib/oc-bot
PROJECT_BASE_PATH=~/oc-bot

# Whether to auto-create project directories (default: true)
AUTO_CREATE_PROJECT_DIRS=true

# =============================================================================
# Docker Configuration
# =============================================================================

# Docker image for OpenCode instances (default: ghcr.io/sst/opencode)
OPENCODE_DOCKER_IMAGE=ghcr.io/sst/opencode

# Path to OpenCode config directory inside container (default: ~/.config/opencode/)
# Supports tilde expansion (~)
OPENCODE_CONFIG_PATH=~/.config/opencode/

# Container port for OpenCode HTTP server (default: 8080)
OPENCODE_CONTAINER_PORT=8080

# Comma-separated list of environment variables to pass through to containers
# (default: ANTHROPIC_API_KEY,OPENAI_API_KEY)
OPENCODE_ENV_PASSTHROUGH=ANTHROPIC_API_KEY,OPENAI_API_KEY
