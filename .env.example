# =============================================================================
# Telegram Configuration
# =============================================================================

# Bot token from @BotFather (required)
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Supergroup chat ID with forum topics enabled (required)
# Use @userinfobot or similar to get the chat ID (negative number)
TELEGRAM_CHAT_ID=-1001234567890

# Comma-separated list of allowed user IDs (optional, empty = all users)
TELEGRAM_ALLOWED_USERS=

# Whether to handle messages in the General topic (default: true)
HANDLE_GENERAL_TOPIC=true

# =============================================================================
# OpenCode Configuration
# =============================================================================

# Path to opencode binary (default: opencode)
OPENCODE_PATH=opencode

# Maximum concurrent OpenCode instances (default: 10)
OPENCODE_MAX_INSTANCES=10

# Idle timeout in milliseconds before stopping instance (default: 30 minutes)
OPENCODE_IDLE_TIMEOUT_MS=1800000

# Port range for OpenCode instances (default: 4100-4199)
OPENCODE_PORT_START=4100
OPENCODE_PORT_POOL_SIZE=100

# Health check interval in milliseconds (default: 30 seconds)
OPENCODE_HEALTH_CHECK_INTERVAL_MS=30000

# Startup timeout in milliseconds (default: 60 seconds)
OPENCODE_STARTUP_TIMEOUT_MS=60000

# =============================================================================
# Storage Configuration
# =============================================================================

# SQLite database paths
ORCHESTRATOR_DB_PATH=./data/orchestrator.db
TOPIC_DB_PATH=./data/topics.db

# =============================================================================
# Project Configuration
# =============================================================================

# Base path for project directories (each topic creates a subdirectory)
# Default: $HOME/oc-bot (e.g., /Users/yourname/oc-bot)
PROJECT_BASE_PATH=~/oc-bot

# Whether to auto-create project directories (default: true)
AUTO_CREATE_PROJECT_DIRS=true

# =============================================================================
# API Server Configuration (for external instance registration)
# =============================================================================

# Port for the API server that handles external OpenCode registrations
# Default: 4200
API_PORT=4200

# Optional API key for authentication (recommended for production)
# API_KEY=your-secret-api-key

# =============================================================================
# Webhook Configuration (optional, for production)
# =============================================================================

# Use ngrok or similar for local development
# TELEGRAM_WEBHOOK_URL=https://your-domain.com/telegram
# WEBHOOK_PORT=4200
